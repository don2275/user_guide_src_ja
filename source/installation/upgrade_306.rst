###################################
3.0.5 から 3.0.6 へのアップグレード
###################################

アップグレードを行う前に、
index.phpファイルを静的ページに置き換えて、オフラインにする必要があります。

Step 1: CodeIgniter ファイルのアップグレード
============================================

*system/* ディレクトリのすべてのファイルとディレクトリを新しいものに置き換えてください。

.. note:: ユーザバージョンのファイルがディレクトリ内にある場合には、
	最初にそれらのコピーを取っておいてください。

Step 2: index.php ファイル（任意）のアップグレード
==================================================

私たちは、index.php ファイルへいくつかの微調整を行いました。
主なものはディレクトリセパレータの適切な使用法（例: ハードコードされた "/" の代わりに
``DIRECTORY_SEPARATOR`` を利用する）に関連しています。

このステップを飛ばしても壊れることはありませんが、Windows を実行している場合や
全ての変更に追随したい場合、index.php ファイルを更新することを
推奨します。

*Tip: 古いファイルから ``ENVIRONMENT``, ``$system_path``, ``$application_folder``
と ``$view_folder`` の定義をコピーし、新しいファイルの
デフォルトのものと置き換えます。*

Step 3: 'prep_for_form' 使用の削除（廃止予定）
==============================================

:doc:`フォームバリデーション（検証） <../libraries/form_validation>` には
``set_rules()`` 内のルールとして、自動的に入力データをHTMLエンコードする/可能性のある
``prep_for_form()`` メソッドがあります。

最初の段階で自動的にエンコードされた入力（出力の代わりとなる）データというのは
良くない動作と言えます。CodeIgniter と PHP は、
このメソッド以外に他の選択肢を提供します。
例えば、:doc:`フォームヘルパー <../helpers/form_helper>` の関数は、必要な時に
自動的に HTML エスケープを実施します。

従って、 *prep_for_form* メソッド/ルールは、まったく実用的ではありません。
そして、現在は非推奨であり、3.1以上で削除される予定です。

.. note:: このメソッドは、まだ利用可能ですが、すぐにでもその使用を削除することを
	強く推奨します。
